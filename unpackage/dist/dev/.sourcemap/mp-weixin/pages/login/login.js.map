{"version":3,"sources":["uni-app:///main.js","webpack:///D:/app/huaxia-erp-uniapp-master/pages/login/login.vue?77a5","webpack:///D:/app/huaxia-erp-uniapp-master/pages/login/login.vue?0a66","webpack:///D:/app/huaxia-erp-uniapp-master/pages/login/login.vue?9bfb","webpack:///D:/app/huaxia-erp-uniapp-master/pages/login/login.vue?1097","uni-app:///pages/login/login.vue","webpack:///D:/app/huaxia-erp-uniapp-master/pages/login/login.vue?86b7","webpack:///D:/app/huaxia-erp-uniapp-master/pages/login/login.vue?d1e1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","base64Data","uuid","code","shape","loading","loginName","password","phoneNo","serial","smsCode","showPassword","loginWay","smsCountDown","smsCountInterval","toggleDelay","version","thirdType","thirdLoginInfo","thirdLoginState","bindingPhoneModal","thirdUserUuid","url","bindingThirdPhone","onLoad","computed","isSendSMSEnable","getSendBtnText","canSMSLogin","canPwdLogin","methods","onLogin","departConfirm","name","err","onRandomImage","saveClientId","params","clientId","console","getPermissionList","pNumber","userId","uni","changePassword","getEncrypte","getEncryptedString","onSMSSend","smsParams","startSMSTimer","clearInterval","onSMSLogin","mobile","captcha","loginSuccess","requestFailed","beforeDestroy"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC0L;AAC1L,gBAAgB,uMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqtB,CAAgB,ivBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACiEzuB;AAKA;AACA;AACA;AAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAEAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;IACA;EACA;EAEAC;IAOA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC,yCACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;QACAzB;QACAC;QACAJ;QACAD;MACA;MACA;MACA;QACA;QACA;UACA;QACA;MACA;QACA;QACA;QACA;MACA;QACA;MACA;IACA;IACA8B;MACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;YACAC;UACA;QACA;UACAC;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACA;YACAA;UACA;YACAA;UACA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAC;UACAC;QACA;MACA;QACAC;QACA;QACA;UACAN;QACA;MACA;IACA;IACAO;MACA;MACA;QACAC;QACAC;MACA;MACA;QACA;QACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;UACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACAC;MACAA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;UACAC;QACA;MACA;IACA;IACAC;MAAA;MACA;MAEA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACAC;QACAC;MACA;MACA;QACAd;QACA;UACA;UACA;YACAN;UACA;QACA;UACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAqB;MACA;MACA;QACArB;MACA;IACA;IACAsB;MACA;IACA;EAAA,EACA;EACAC;IACA;MACAN;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACnVA;AAAA;AAAA;AAAA;AAAshC,CAAgB,0hCAAG,EAAC,C;;;;;;;;;;;ACA1iC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"zai-box\">\r\n\t\t<scroll-view scroll-y class=\"page\">\r\n\t\t\t<view class=\"text-center\" :style=\"[{animation: 'show ' + 0.4+ 's 1'}]\">\r\n\t\t\t\t<image src=\"/static/erplogo.png\" mode='aspectFit' class=\"zai-logo\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box padding-lr-xl login-paddingtop\" :style=\"[{animation: 'show ' + 0.6+ 's 1'}]\">\r\n\t\t\t\t<block v-if=\"loginWay==1\">\r\n\t\t\t\t\t<view class=\"cu-form-group margin-top  shadow-warp\" :class=\"[shape=='round'?'round':'']\">\r\n\t\t\t\t\t\t<view class=\"title\"><text class=\"cuIcon-people margin-right-xs\"></text>账号:</view>\r\n\t\t\t\t\t\t<input placeholder=\"请输入账号\" name=\"input\" v-model=\"loginName\"></input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group margin-top shadow-warp\" :class=\"[shape=='round'?'round':'']\">\r\n\t\t\t\t\t\t<view class=\"title\"><text class=\"cuIcon-lock margin-right-xs\"></text>密码:</view>\r\n\t\t\t\t\t\t<input class=\"uni-input\" placeholder=\"请输入密码\" :password=\"!showPassword\" v-model=\"password\" />\r\n\t\t\t\t\t\t<view class=\"action text-lg\">\r\n\t\t\t\t\t\t\t<text :class=\"[showPassword ? 'cuIcon-attention' : 'cuIcon-attentionforbid']\"\r\n\t\t\t\t\t\t\t\t@click=\"changePassword\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-form-group margin-top shadow-warp\" :class=\"[shape=='round'?'round':'']\">\r\n\t\t\t\t\t\t<view class=\"title\"><text class=\"cuIcon-lock margin-right-xs\"></text>验证码:</view>\r\n\t\t\t\t\t\t<input class=\"uni-input\" placeholder=\"请输入验证码\" v-model=\"code\" />\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<image class=\"zai-randomImage\" style=\"margin-top: 2px;\" :src=\"base64Data\" alt=\"Base64 Image\"\r\n\t\t\t\t\t\t\t\t@click=\"onRandomImage\" />\r\n\t\t\t\t\t\t\t<text v-model=\"uuid\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"padding text-center margin-top\">\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-blue lg margin-right shadow\" :loading=\"loading\"\r\n\t\t\t\t\t\t\t:class=\"[shape=='round'?'round':'']\" @tap=\"onLogin\"><text\r\n\t\t\t\t\t\t\t\tspace=\"emsp\">{{loading ? \"登录中...\":\" 登录 \"}}</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<!-- \t<button class=\"cu-btn line-blue lg margin-left shadow\" :loading=\"loading\"\r\n  \t\t\t\t\t\t\t:class=\"[shape=='round'?'round':'']\" @tap=\"loginWay=3-loginWay\">短信登录\r\n  \t\t\t\t\t\t</button> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<!-- \t<view class=\"cu-form-group margin-top  shadow-warp\" :class=\"[shape=='round'?'round':'']\">\r\n  \t\t\t\t\t\t<view class=\"title\">序列号:</view>\r\n  \t\t\t\t\t\t<input placeholder=\"请输入序列号\" name=\"input\" v-model=\"serial\"></input>\r\n  \t\t\t\t\t</view> -->\r\n\r\n\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t<view class=\"padding flex flex-direction  text-center\">\r\n\t\t\t\t\t当前版本:{{version}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 登录加载弹窗 -->\r\n\t\t<view class=\"cu-load load-modal\" v-if=\"loading\">\r\n\t\t\t<!-- <view class=\"cuIcon-emojifill text-orange\"></view> -->\r\n\t\t\t<image src=\"https://linghanshop.cn/uploads/attach/2025/04/20250403/53a601dafc2ad6602648623cd3564526.png\"\r\n\t\t\t\tmode=\"aspectFit\" class=\"round\">\r\n\t\t\t</image>\r\n\t\t\t<view class=\"gray-text\">登录中...</view>\r\n\t\t</view>\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tACCESS_TOKEN,\r\n\t\tUSER_NAME,\r\n\t\tUSER_INFO\r\n\t} from \"@/common/util/constants\";\r\n\timport md5 from 'md5';\r\n\timport {mapActions} from \"vuex\";\r\n\timport configService from '@/common/service/config.service.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbase64Data: '', // 这里存储你的Base64数据\r\n\t\t\t\tuuid: '', // 这里存储你的Base64数据对应唯一码\r\n\t\t\t\tcode: '',\r\n\r\n\t\t\t\tshape: '', //round 圆形\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloginName: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tphoneNo: '',\r\n\t\t\t\tserial: '',\r\n\t\t\t\tsmsCode: '',\r\n\t\t\t\tshowPassword: false, //是否显示明文\r\n\t\t\t\tloginWay: 1, //1: 账密，2：验证码\r\n\t\t\t\tsmsCountDown: 0,\r\n\t\t\t\tsmsCountInterval: null,\r\n\t\t\t\ttoggleDelay: false,\r\n\t\t\t\tversion: '',\r\n\t\t\t\t//第三方登录相关信息\r\n\t\t\t\tthirdType: \"\",\r\n\t\t\t\tthirdLoginInfo: \"\",\r\n\t\t\t\tthirdLoginState: false,\r\n\t\t\t\tbindingPhoneModal: false,\r\n\t\t\t\tthirdUserUuid: '',\r\n\t\t\t\turl: {\r\n\t\t\t\t\tbindingThirdPhone: '/sys/thirdLogin/bindingThirdPhone'\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tonLoad: function() {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tvar that = this\r\n\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(wgtinfo) {\r\n\t\t\t\tthat.version = wgtinfo.version\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\tthis.onRandomImage()\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisSendSMSEnable() {\r\n\t\t\t\treturn this.smsCountDown <= 0 && this.phoneNo.length > 4;\r\n\t\t\t},\r\n\t\t\tgetSendBtnText() {\r\n\t\t\t\tif (this.smsCountDown > 0) {\r\n\t\t\t\t\treturn this.smsCountDown + '秒后发送';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '发送验证码';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcanSMSLogin() {\r\n\t\t\t\treturn this.loginName.length > 4 && this.smsCode.length > 4;\r\n\t\t\t},\r\n\t\t\tcanPwdLogin() {\r\n\t\t\t\treturn this.loginName.length > 4 && this.password.length > 4;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions([\"mLogin\", \"PhoneLogin\", \"ThirdLogin\"]),\r\n\t\t\tonLogin: function() {\r\n\t\t\t\tif (!this.loginName || this.loginName.length == 0) {\r\n\t\t\t\t\tthis.$tip.toast('请填写账号');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.password || this.password.length == 0) {\r\n\t\t\t\t\tthis.$tip.toast('请填写密码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.code || this.code.length == 0) {\r\n\t\t\t\t\tthis.$tip.toast('请填写验证码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} // } else {\r\n\t\t\t\t// \tthis.$tip.error(res.data.message);\r\n\t\t\t\t// }\r\n\t\t\t\tlet loginParams = {\r\n\t\t\t\t\tloginName: this.loginName,\r\n\t\t\t\t\tpassword: md5(this.password),\r\n\t\t\t\t\tcode: this.code,\r\n\t\t\t\t\tuuid: this.uuid\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.mLogin(loginParams).then((res) => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tif (res.data.code == \"200\") {\r\n\t\t\t\t\t\tthis.departConfirm(res.data, this.loginName)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tlet msg = err.data || \"请求出现错误，请稍后再试\"\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.$tip.toast(msg);\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdepartConfirm(res, loginName) {\r\n\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\tlet err = {};\r\n\t\t\t\t\tif (res.data.msgTip == 'user can login') {\r\n\t\t\t\t\t\t// Vue.ls.set('winBtnStrList', res.data.userBtn, 7 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t// Vue.ls.set('roleType', res.data.roleType, 7 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\tthis.getPermissionList()\r\n\t\t\t\t\t\tthis.$tip.success('登录成功!')\r\n\t\t\t\t\t\tthis.$Router.replaceAll({\r\n\t\t\t\t\t\t\tname: 'index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.data.msgTip == 'user is not exist') {\r\n\t\t\t\t\t\terr.message = '用户不存在';\r\n\t\t\t\t\t\tthis.$tip.toast(err.message);\r\n\t\t\t\t\t} else if (res.data.msgTip == 'user password error') {\r\n\t\t\t\t\t\terr.message = '用户密码不正确';\r\n\t\t\t\t\t\tthis.$tip.toast(err.message);\r\n\t\t\t\t\t} else if (res.data.msgTip == 'user is black') {\r\n\t\t\t\t\t\terr.message = '用户被禁用';\r\n\t\t\t\t\t\tthis.$tip.toast(err.message);\r\n\t\t\t\t\t} else if (res.data.msgTip == 'tenant is black') {\r\n\t\t\t\t\t\tif (loginName === 'jsh') {\r\n\t\t\t\t\t\t\terr.message = 'jsh用户已停用，请注册租户进行体验！';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\terr.message = '用户所属的租户被禁用';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$tip.toast(err.message);\r\n\t\t\t\t\t} else if (res.data.msgTip == 'tenant is expire') {\r\n\t\t\t\t\t\terr.message = '试用期已结束，请联系客服续费';\r\n\t\t\t\t\t\tthis.$tip.toast(err.message);\r\n\t\t\t\t\t} else if (res.data.msgTip == 'access service error') {\r\n\t\t\t\t\t\terr.message = '查询服务异常';\r\n\t\t\t\t\t\tthis.$tip.toast(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet msg = err.data || \"请求出现错误，请稍后再试\"\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.$tip.toast(msg);\r\n\t\t\t\t}\r\n\t\t\t\tthis.onRandomImage()\r\n\t\t\t\tthis.code = '';\r\n\t\t\t},\r\n\t\t\tonRandomImage() {\r\n\t\t\t\tthis.$http.get(\"/user/randomImage\").then(res => {\r\n\t\t\t\t\tif (res.data.code = 200) {\r\n\t\t\t\t\t\tthis.base64Data = res.data.data.base64;\r\n\t\t\t\t\t\tthis.uuid = res.data.data.uuid;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsaveClientId() {\r\n\t\t\t\tvar info = plus.push.getClientInfo();\r\n\t\t\t\tvar cid = info.clientid;\r\n\t\t\t\tthis.$http.get(\"/sys/user/saveClientId\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tclientId: cid\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconsole.log(\"res::saveClientId>\", res)\r\n\t\t\t\t\tthis.$tip.success('登录成功!')\r\n\t\t\t\t\tthis.$Router.replaceAll({\r\n\t\t\t\t\t\tname: 'index'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetPermissionList() {\r\n\t\t\t\tlet userInfo = uni.getStorageSync(USER_INFO);\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tpNumber: 0,\r\n\t\t\t\t\tuserId: userInfo.id\r\n\t\t\t\t};\r\n\t\t\t\tthis.$http.post(\"/function/findMenuByPNumber\", params).then(res => {\r\n\t\t\t\t\tconst menuData = res.data;\r\n\t\t\t\t\tuni.setStorageSync('permissionList', menuData);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePassword() {\r\n\t\t\t\tthis.showPassword = !this.showPassword;\r\n\t\t\t},\r\n\t\t\t//获取密码加密规则\r\n\t\t\tgetEncrypte() {\r\n\t\t\t\tvar encryptedString = Vue.ls.get(ENCRYPTED_STRING);\r\n\t\t\t\tif (encryptedString == null) {\r\n\t\t\t\t\tgetEncryptedString().then((data) => {\r\n\t\t\t\t\t\tthis.encryptedString = data\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.encryptedString = encryptedString;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSMSSend() {\r\n\t\t\t\tlet smsParams = {};\r\n\t\t\t\tsmsParams.mobile = this.phoneNo;\r\n\t\t\t\tsmsParams.smsmode = \"0\";\r\n\t\t\t\tlet checkPhone = new RegExp(/^[1]([3-9])[0-9]{9}$/);\r\n\t\t\t\tif (!smsParams.mobile || smsParams.mobile.length == 0) {\r\n\t\t\t\t\tthis.$tip.toast('请输入手机号');\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tif (!checkPhone.test(smsParams.mobile)) {\r\n\t\t\t\t\tthis.$tip.toast('请输入正确的手机号');\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tthis.$http.post(\"/sys/sms\", smsParams).then(res => {\r\n\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\tthis.smsCountDown = 60;\r\n\t\t\t\t\t\tthis.startSMSTimer();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.smsCountDown = 0;\r\n\t\t\t\t\t\tthis.$tip.toast(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tstartSMSTimer() {\r\n\t\t\t\tthis.smsCountInterval = setInterval(() => {\r\n\t\t\t\t\tthis.smsCountDown--;\r\n\t\t\t\t\tif (this.smsCountDown <= 0) {\r\n\t\t\t\t\t\tclearInterval(this.smsCountInterval);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\tonSMSLogin() {\r\n\t\t\t\tlet checkPhone = new RegExp(/^[1]([3-9])[0-9]{9}$/);\r\n\r\n\t\t\t\tif (!this.phoneNo || this.phoneNo.length == 0) {\r\n\t\t\t\t\tthis.$tip.toast('请填写手机号');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!checkPhone.test(this.phoneNo)) {\r\n\t\t\t\t\tthis.$tip.toast('请输入正确的手机号');\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.smsCode || this.smsCode.length == 0) {\r\n\t\t\t\t\tthis.$tip.toast('请填短信验证码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet loginParams = {\r\n\t\t\t\t\tmobile: this.phoneNo,\r\n\t\t\t\t\tcaptcha: this.smsCode\r\n\t\t\t\t};\r\n\t\t\t\tthis.PhoneLogin(loginParams).then((res) => {\r\n\t\t\t\t\tconsole.log(\"res====》\", res)\r\n\t\t\t\t\tif (res.data.success) {\r\n\t\t\t\t\t\tthis.$tip.success('登录成功!')\r\n\t\t\t\t\t\tthis.$Router.replaceAll({\r\n\t\t\t\t\t\t\tname: 'index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$tip.error(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tlet msg = ((err.response || {}).data || {}).message || err.data.message || \"请求出现错误，请稍后再试\"\r\n\t\t\t\t\tthis.$tip.error(msg);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tloginSuccess() {\r\n\t\t\t\t// 登陆成功，重定向到主页\r\n\t\t\t\tthis.$Router.replace({\r\n\t\t\t\t\tname: 'index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\trequestFailed(err) {\r\n\t\t\t\tthis.$message.warning(\"登录失败\")\r\n\t\t\t},\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tif (this.smsCountInterval) {\r\n\t\t\t\tclearInterval(this.smsCountInterval);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.login-paddingtop {\r\n\t\tpadding-top: 100upx;\r\n\t}\r\n\r\n\t.zai-box {\r\n\t\tpadding: 0 20upx;\r\n\t\tpadding-top: 100upx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.zai-logo {\r\n\t\twidth: 200upx;\r\n\t\theight: 150upx;\r\n\t}\r\n\r\n\t.zai-title {\r\n\t\tfont-size: 58upx;\r\n\t\tcolor: #aa5500;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.input-placeholder,\r\n\t.zai-input {\r\n\t\tcolor: #94afce;\r\n\t}\r\n\r\n\t.zai-label {\r\n\t\tpadding: 60upx 0;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 30upx;\r\n\t\tcolor: #0000ff;\r\n\t}\r\n\r\n\t.zai-randomImage {\r\n\t\twidth: 85px;\r\n\t\theight: 30px;\r\n\t\tbackground: #94afce;\r\n\t}\r\n</style>","import mod from \"-!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1744871936974\n      var cssReload = require(\"D:/app/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}