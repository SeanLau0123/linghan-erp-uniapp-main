<view><cu-custom vue-id="db4c9880-1" bgColor="bg-gradual-pink" isBack="{{true}}" backRouterName="retailOut" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">{{title}}</view></cu-custom><form><view class="cu-form-group"><view class="title">会员卡号</view><input placeholder="请输入名称" name="input" data-event-opts="{{[['input',[['__set_model',['$0','id','$event',[]],['myFormData']]]]]}}" value="{{myFormData.id}}" bindinput="__e"/><input hidden="true" placeholder="请输入供应商" name="input" data-event-opts="{{[['input',[['__set_model',['$0','status','$event',[]],['myFormData']]]]]}}" value="{{myFormData.status}}" bindinput="__e"/><view><app-select bind:input="__e" vue-id="db4c9880-2" value="{{myFormData.organId}}" placeholder="选择会员卡号" dict="{{retailList}}" space="{{true}}" data-event-opts="{{[['^input',[['__set_model',['$0','organId','$event',[]],['myFormData']]]]]}}" bind:__l="__l"></app-select></view></view><view class="cu-form-group"><view class="title">单据日期</view><my-date bind:input="__e" vue-id="db4c9880-3" placeholder="请选择单据日期" required="{{true}}" fields="minute" value="{{myFormData.operTime}}" data-event-opts="{{[['^input',[['__set_model',['$0','operTime','$event',[]],['myFormData']]]]]}}" bind:__l="__l"></my-date></view><view class="cu-form-group"><view class="title">单据编号</view><input placeholder="请输入单据编号" name="input" data-event-opts="{{[['input',[['__set_model',['$0','number','$event',[]],['myFormData']]]]]}}" value="{{myFormData.number}}" bindinput="__e"/></view><view class="cu-form-group"><view class="title">收款类型</view><view><app-select bind:input="__e" vue-id="db4c9880-4" placeholder="请选择收款类型" dict="{{payTypeList}}" space="{{true}}" value="{{myFormData.payType}}" data-event-opts="{{[['^input',[['__set_model',['$0','payType','$event',[]],['myFormData']]]]]}}" bind:__l="__l"></app-select></view></view><view class="cu-form-group"><view class="title">单据明细信息</view><uni-popup class="vue-ref" style="z-index:20;margin:0 auto;height:800px;" vue-id="db4c9880-5" type="right" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view style="height:800px;width:100%;float:right;"><form><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;margin-top:60px;"><text class="text-content text-cut" style="padding-left:.90rem;width:5em;">条码：</text><input hidden="{{true}}" placeholder="index" name="input" data-event-opts="{{[['input',[['__set_model',['$0','index','$event',[]],['myFormDataDetail']]]]]}}" value="{{myFormDataDetail.index}}" bindinput="__e"/><input hidden="{{true}}" placeholder="id" name="input" data-event-opts="{{[['input',[['__set_model',['$0','id','$event',[]],['myFormDataDetail']]]]]}}" value="{{myFormDataDetail.id}}" bindinput="__e"/><block wx:if="{{$root.g0}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m0}}"></rich-text></view></block></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">名称：</text><block wx:if="{{$root.g1}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m1}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">规格：</text><block wx:if="{{$root.g2}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m2}}"></rich-text></view></block></view></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">型号：</text><block wx:if="{{$root.g3}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m3}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">颜色：</text><block wx:if="{{$root.g4}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m4}}"></rich-text></view></block></view></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">扩展：</text><block wx:if="{{$root.g5}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m5}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">库存：</text><block wx:if="{{myFormDataDetail.stock>=0}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{myFormDataDetail.stock}}"></rich-text></view></block></view></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">单位：</text><block wx:if="{{$root.g6}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m6}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">多属性：</text><block wx:if="{{$root.g7}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{$root.m7}}"></rich-text></view></block></view></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><app-select vue-id="{{('db4c9880-6')+','+('db4c9880-5')}}" label="仓库:" placeholder="请选择" dict="{{depotList}}" space="{{true}}" value="{{myFormDataDetail.depotId}}" data-event-opts="{{[['^change',[['changeDepotStock']]],['^input',[['__set_model',['$0','depotId','$event',[]],['myFormDataDetail']]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></app-select></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><text class="text-content text-cut" style="padding-left:.90rem;width:3em;">数量：</text><input placeholder="请输入数量" id="operNumber" name="input" data-event-opts="{{[['input',[['__set_model',['$0','operNumber','$event',[]],['myFormDataDetail']],['InputChange',['$event']]]]]}}" value="{{myFormDataDetail.operNumber}}" bindinput="__e"/></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><text class="text-content text-cut" style="padding-left:.90rem;width:3em;">单价：</text><input placeholder="请输入单价" id="unitPrice" name="input" data-event-opts="{{[['input',[['__set_model',['$0','unitPrice','$event',[]],['myFormDataDetail']],['InputChange',['$event']]]]]}}" value="{{myFormDataDetail.unitPrice}}" bindinput="__e"/></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><text class="text-content text-cut" style="padding-left:.90rem;width:3em;">金额：</text><input placeholder="请输入金额" id="allPrice" name="input" data-event-opts="{{[['input',[['__set_model',['$0','allPrice','$event',[]],['myFormDataDetail']],['InputChange',['$event']]]]]}}" value="{{myFormDataDetail.allPrice}}" bindinput="__e"/></view><view class="cu-form-group" style="padding-left:.8rem;display:flex;width:95vw;"><text class="text-content text-cut" style="padding-left:.90rem;width:3em;">备注：</text><input placeholder="请输入备注" name="input" data-event-opts="{{[['input',[['__set_model',['$0','remark','$event',[]],['myFormDataDetail']]]]]}}" value="{{myFormDataDetail.remark}}" bindinput="__e"/></view><view class="cu-form-group" isBack="{{true}}" backRouterName="index"><button data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="cu-btn bg-gradual-blue shadow-blur round" style="background-image:linear-gradient(45deg, #848a90, #848a90);" bindtap="__e">返回</button><button data-event-opts="{{[['tap',[['onDelDetail',['$event']]]]]}}" class="cu-btn bg-gradual-blue shadow-blur round" bindtap="__e">删除</button><button data-event-opts="{{[['tap',[['onSubmitDetail',['$event']]]]]}}" class="cu-btn bg-gradual-blue shadow-blur round" bindtap="__e">确定</button></view></form></view></uni-popup><uni-icons vue-id="db4c9880-7" type="plus-filled" size="30" data-event-opts="{{[['^tap',[['goodsSelect']]]]}}" bind:tap="__e" bind:__l="__l"></uni-icons></view><view class="container"><view class="al-list cu-list"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['message_text','bg-white','cu-item','flex','justify-around','align-center','solid-bottom','margin-bottom-sm','margin-top-sm',modalName=='move-box-'+index?'move-cur':'']}}" style="width:120vw;" data-target="{{'move-box-'+index}}" data-event-opts="{{[['tap',[['goGoodsDetail',['$0',index],[[['goodsDetailList','',index]]]]]]]}}" bindtap="__e"><view class="titlePad content" style="height:12em;"><view class="flex justify-between margin-top-xs" style="font-family:'黑体';color:#999;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">仓库：</text><block wx:if="{{item.g8}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m8}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">条码：</text><block wx:if="{{item.g9}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m9}}"></rich-text></view></block></view></view><view class="flex justify-between margin-top-xs" style="font-family:'黑体';color:#999;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">名称：</text><block wx:if="{{item.g10}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m10}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">规格：</text><block wx:if="{{item.g11}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m11}}"></rich-text></view></block></view></view><view class="flex justify-between margin-top-xs" style="font-family:'黑体';color:#999;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">型号：</text><block wx:if="{{item.g12}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m12}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">颜色：</text><block wx:if="{{item.g13}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m13}}"></rich-text></view></block></view></view><view class="flex justify-between margin-top-xs" style="font-family:'黑体';color:#999;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">扩展：</text><block wx:if="{{item.g14}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m14}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">库存：</text><block wx:if="{{item.$orig.stock>=0}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.$orig.stock}}"></rich-text></view></block></view></view><view class="flex justify-between margin-top-xs" style="font-family:'黑体';color:#999;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">单位：</text><block wx:if="{{item.g15}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.m15}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">数量：</text><block wx:if="{{item.$orig.operNumber>=0}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.$orig.operNumber}}"></rich-text></view></block></view></view><view class="flex justify-between margin-top-xs" style="font-family:'黑体';color:#999;"><view style="padding-left:.8rem;display:flex;justify-content:space-between;width:50vw;"><text class="text-content text-cut" style="padding-left:.12rem;width:10em;">单价：</text><block wx:if="{{item.$orig.unitPrice>=0}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.$orig.unitPrice}}"></rich-text></view></block></view><view style="padding-left:.1rem;display:flex;justify-content:space-between;width:70vw;"><text class="text-content text-cut" style="padding-left:.10rem;width:6em;">金额：</text><block wx:if="{{item.$orig.allPrice>=0}}"><view class="text-content text-cut" style="width:30em;"><rich-text nodes="{{item.$orig.allPrice}}"></rich-text></view></block></view></view></view></view></block></view></view><view class="cu-form-group"><view style="display:flex;justify-content:space-between;width:50vw;"><text class="title">单据金额</text><input disabled="true" placeholder="请输入单据金额" name="input" data-event-opts="{{[['input',[['__set_model',['$0','changeAmount','$event',[]],['myFormData']]]]]}}" value="{{myFormData.changeAmount}}" bindinput="__e"/></view><view style="display:flex;justify-content:space-between;width:50vw;"><text class="title">收款金额</text><input placeholder="请输入收款金额" name="input" data-event-opts="{{[['input',[['__set_model',['$0','getAmount','$event',[]],['myFormData']],['getAmountChange',['$event']]]]]}}" value="{{myFormData.getAmount}}" bindinput="__e"/></view></view><view class="cu-form-group"><view style="display:flex;justify-content:space-between;width:50vw;"><text class="title">找零</text><input disabled="true" placeholder="请输入找零" name="input" data-event-opts="{{[['input',[['__set_model',['$0','backAmount','$event',[]],['myFormData']]]]]}}" value="{{myFormData.backAmount}}" bindinput="__e"/></view><view style="display:flex;justify-content:space-between;width:60vw;"><app-select bind:input="__e" vue-id="db4c9880-8" label="收款账户" required="{{true}}" placeholder="请选择" dict="{{accountList}}" space="{{true}}" value="{{myFormData.accountId}}" data-event-opts="{{[['^input',[['__set_model',['$0','accountId','$event',[]],['myFormData']]]]]}}" bind:__l="__l"></app-select></view></view><view class="cu-form-group"><view class="title">备注</view><input placeholder="请输入备注" name="input" data-event-opts="{{[['input',[['__set_model',['$0','remark','$event',[]],['myFormData']]]]]}}" value="{{myFormData.remark}}" bindinput="__e"/></view><view class="cu-form-group" hidden="{{isShowButton}}" isBack="{{true}}" backRouterName="index"><block wx:if="{{$root.g16>-1}}"><button class="cu-btn bg-gradual-red shadow-blur" hidden="{{isOpen}}" data-event-opts="{{[['tap',[['onDelBill',['$event']]]]]}}" bindtap="__e">删除</button></block><block wx:if="{{$root.g17>-1}}"><button class="cu-btn bg-gradual-orange shadow-blur" hidden="{{isClose}}" data-event-opts="{{[['tap',[['batchSetStatus',[0]]]]]}}" bindtap="__e">反审核</button></block><block wx:if="{{$root.g18>-1}}"><button class="cu-btn bg-gradual-orange shadow-blur" hidden="{{isOpen}}" data-event-opts="{{[['tap',[['batchSetStatus',[1]]]]]}}" bindtap="__e">审核</button></block><block wx:if="{{$root.g19>-1}}"><button class="cu-btn bg-gradual-blue shadow-blur" hidden="{{isOpen}}" data-event-opts="{{[['tap',[['onSubmit',['$event']]]]]}}" bindtap="__e">提交</button></block></view><view class="padding flex flex-direction" hidden="{{!isShowButton}}"><button data-event-opts="{{[['tap',[['onSubmit',['$event']]]]]}}" class="cu-btn bg-blue lg" bindtap="__e">提交</button><block wx:if="{{$root.g20>-1}}"><button data-event-opts="{{[['tap',[['onSubmitAndCheck',['$event']]]]]}}" class="cu-btn bg-green lg" bindtap="__e">提交并审核</button></block></view></form></view>